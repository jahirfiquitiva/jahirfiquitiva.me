const token="3435345",$formContact=document.querySelector("#contact-form");let nameInput=document.contactForm.name;nameInput.addEventListener("keyup",function(){toggleHelp("name",!1)});let emailInput=document.contactForm.email;emailInput.addEventListener("keyup",function(){toggleHelp("email",!1)});let subjectInput=document.contactForm.subject;subjectInput.addEventListener("keyup",function(){toggleHelp("subject",!1)});let messageInput=document.contactForm.message;messageInput.addEventListener("keyup",function(){toggleHelp("message",!1)});const sendForm=a=>{if(a.preventDefault(),document.contactForm.action.classList.add("is-loading"),document.contactForm.honey){let c=document.contactForm.honey.value;if(null!==c&&void 0!==c&&0<c.length)return toggleHelp("captcha",!0),stopMailLoad(!1)}const b=emailInput.value;if(null!==b&&void 0!==b){if(validateEmail(b)){let c=grecaptcha.getResponse();if(null===c||void 0===c||0===c.length)return toggleHelp("captcha",!0),stopMailLoad(!1);toggleHelp("captcha",!1);let d=nameInput.value,f=subjectInput.value,g=messageInput.value;return null===d||void 0===d||0===d.length?(toggleHelp("name",!0),stopMailLoad(!1)):null===f||void 0===f||0===f.length?(toggleHelp("subject",!0),stopMailLoad(!1)):null===g||void 0===g||0===g.length?(toggleHelp("message",!0),stopMailLoad(!1)):(smtpJS({sender:b,name:d,subject:f,text:g}),!0)}return toggleHelp("email",!0),stopMailLoad(!1)}return toggleHelp("email",!0),stopMailLoad(!1)},smtpJS=a=>{try{Email.send(a.sender,"hi@jahirfiquitiva.com",a.subject,getEmailContent(a.name,a.sender,a.subject,a.text),{token:token,callback:function(){toggleFields(!0)}})}catch(b){toggleFields(!1)}};$formContact.addEventListener("submit",sendForm);function stopMailLoad(a){try{document.contactForm.action.classList.remove("is-loading")}catch(b){}return a}function toggleHelp(a,b){try{b?(document.getElementById(a).classList.add("is-danger"),document.getElementById(a+"-help").classList.add("is-active")):(document.getElementById(a).classList.remove("is-danger"),document.getElementById(a+"-help").classList.remove("is-active"))}catch(c){}}function toggleFields(a){stopMailLoad(!0),document.contactForm.action.disabled=a,document.contactForm.action.setAttribute("aria-disabled",a.toString()),nameInput.disabled=a,nameInput.setAttribute("aria-disabled",a.toString()),toggleHelp("name",!1),emailInput.disabled=a,emailInput.setAttribute("aria-disabled",a.toString()),toggleHelp("email",!1),subjectInput.disabled=a,subjectInput.setAttribute("aria-disabled",a.toString()),toggleHelp("subject",!1),messageInput.disabled=a,messageInput.setAttribute("aria-disabled",a.toString()),toggleHelp("message",!1);let b=document.getElementById("sent"),c=document.getElementById("not-sent");null!==b&&b!==void 0&&(a?b.classList.add("is-active"):b.classList.remove("is-active")),null!==c&&c!==void 0&&(a?c.classList.remove("is-active"):c.classList.add("is-active")),a&&(nameInput.value="",emailInput.value="",subjectInput.value="",messageInput.value="")}function validateEmail(a){try{const b=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return b.test(a.toLowerCase())}catch(b){return!1}}function getEmailContent(a,b,c,d){return"You have been contacted by <b>"+a+"</b><br/><br/><table style=\"margin: 0;width: 100%;border: 1px solid #f5f5f5;border-collapse: collapse;border-spacing: 0;\"><tr><td style=\"padding: 10px 8px;background: #f5f5f5;\"><b>Email:</b></td><td style=\"padding: 10px 8px;background: #f5f5f5;\">"+b+"</td></tr><tr><td style=\"padding: 10px 8px;\"><b>Subject:</b></td><td style=\"padding: 10px 8px;\">"+c+"</td></tr><tr><td style=\"padding: 10px 8px;background: #f5f5f5;\"><b>Message:</b></td><td style=\"padding: 10px 8px;background: #f5f5f5;\">"+d+"</td></tr></table><br/>"}
